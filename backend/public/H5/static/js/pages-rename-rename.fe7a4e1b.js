(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-rename-rename"],{"5a20":function(e,t,a){var i=a("b386");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("6ee1ea1b",i,!0,{sourceMap:!1,shadowMode:!1})},"7d41":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={uniForms:a("5864").default,more:a("9df9").default,uniFormsItem:a("93b9").default,uniEasyinput:a("6a08").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"page"},[a("v-uni-view",{staticClass:"frame"},[a("v-uni-view",{staticClass:"explain"},[a("v-uni-view",[e._v("说明：")]),a("v-uni-view",[e._v("小程序发布前可改名的次数为2，当改名次数上限后仍需继续改名时需要重新发起微信认证改名。")])],1),a("uni-forms",{ref:"form",attrs:{modelValue:e.formData,rules:e.formRules}},[a("v-uni-view",{staticClass:"flex"},[a("v-uni-view",{staticClass:"font-two zi-four title"},[e._v("营业执照：")]),a("more",{ref:"more3",attrs:{count:"1",name_dat:"license_link"},on:{moress:function(t){arguments[0]=t=e.$handleEvent(t),e.moress.apply(void 0,arguments)},del:function(t){arguments[0]=t=e.$handleEvent(t),e.del.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"flex"},[a("v-uni-view",{staticClass:"font-two zi-four title",staticStyle:{color:"transparent"}},[e._v("营业执照：")]),a("uni-forms-item",{staticClass:"uploadImgDes uni-forms-item",attrs:{name:"license_link"}},[a("uni-easyinput",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text"},model:{value:e.formData.license_link,callback:function(t){e.$set(e.formData,"license_link",t)},expression:"formData.license_link"}})],1)],1),a("v-uni-view",{staticClass:"flex"},[a("v-uni-view",{staticClass:"font-two zi-four title"},[e._v("其他资料：")]),a("more",{ref:"more3",staticStyle:{flex:"1"},attrs:{title:"只能传五张",count:"5",name_dat:"otherDetails"},on:{moress:function(t){arguments[0]=t=e.$handleEvent(t),e.moress.apply(void 0,arguments)},del:function(t){arguments[0]=t=e.$handleEvent(t),e.del.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"flex"},[a("v-uni-view",{staticClass:"font-two zi-four title",staticStyle:{color:"transparent"}},[e._v("其他资料：")]),a("uni-forms-item",{staticClass:"uploadImgDes uni-forms-item",attrs:{name:"otherDetails"}},[a("uni-easyinput",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text"},model:{value:e.formData.otherDetails,callback:function(t){e.$set(e.formData,"otherDetails",t)},expression:"formData.otherDetails"}})],1)],1),a("v-uni-view",{staticClass:"flex"},[a("v-uni-view",{staticClass:"font-two zi-four title"},[e._v("小程序名：")]),a("uni-forms-item",{staticClass:"uni-forms-item",attrs:{name:"xcxname"}},[a("uni-easyinput",{model:{value:e.formData.xcxname,callback:function(t){e.$set(e.formData,"xcxname",t)},expression:"formData.xcxname"}})],1)],1),a("v-uni-button",{staticClass:"color-one",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("提交")])],1)],1)],1)},o=[]},a0e7:function(e,t,a){"use strict";var i=a("4ea4");a("45fc"),a("a434"),a("d3b7"),a("ac1f"),a("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var n=i(a("1da1")),o={data:function(){return{formData:{license:"",license_link:"",otherDetailsmediaid:"",otherDetails:"",id:""},formRules:{xcxname:{rules:[{required:!0,errorMessage:"请输入小程序名"}]},license_link:{rules:[{required:!0,errorMessage:"请上传营业执照照片"}]}}}},methods:{del:function(e){if("license_link"==e.name_dat&&(this.formData.license_link=""),"otherDetails"==e.name_dat){var t=this.formData[e.name_dat].split(","),a=this.formData.otherDetailsmediaid.split(",");t.splice(e.index,1),a.splice(e.index,1),this.formData[e.name_dat]=t.join(","),this.formData.otherDetailsmediaid=a.join(",")}},submit:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return uni.showLoading({title:"提交中...",mask:!0}),t.next=3,e.arrayDispose();case 3:return a=t.sent,t.next=6,e.formData.id;case 6:return a.id=t.sent,t.next=9,e.formData.xcxname;case 9:return a.xcxname=t.sent,t.next=12,e.formData.license;case 12:return a.license=t.sent,t.next=15,e.formData.license_link;case 15:a.license_link=t.sent,e.$refs.form.validate().then((function(e){getApp().request("POST","/api/setweappname",{token:getApp().globalData.token},a).then((function(e){uni.hideLoading(),1==e.code?(uni.removeStorage({key:"authentication_info"}),uni.showToast({title:e.message,icon:"success",duration:2e3,success:function(){setTimeout((function(){uni.redirectTo({url:"../Indent/Indent?type=0&pf_id="+getApp().globalData.platform})}),2e3)}})):uni.showModal({title:"失败",content:e.message})}))})).catch((function(e){uni.hideLoading(),console.log("表单错误信息：",e)}));case 17:case"end":return t.stop()}}),t)})))()},arrayDispose:function(){var e=this,t=e.formData.otherDetails.split(","),a=e.formData.otherDetailsmediaid.split(","),i={};return new Promise((function(e,n){t.some((function(n,o){i["naming_other_stuff_"+(o+1)]=a[o],i["naming_other_stuff_"+(o+1)+"_link"]=n,t.length==o+1&&e(i)}))}))},moress:function(e){var t=this,a=this,i=[],n=[];e.path.some((function(o,r){uni.uploadFile({url:getApp().globalData.url+"/api/incoming/upload2",filePath:o,name:"file",header:{token:getApp().globalData.token},formData:{id:t.formData.id},success:function(t){var o=JSON.parse(t.data);1==o.code?(o.data.url=getApp().url_htt(o.data.url),i.push(o.data.media_id),n.push(o.data.url),e.path.length==n.length&&("license_link"==e.name_dat&&(a.formData.license_link=o.data.url,a.formData.license=o.data.media_id),"otherDetails"==e.name_dat&&(a.formData.otherDetails=n.join(","),a.formData.otherDetailsmediaid=i.join(","))),setTimeout((function(){uni.hideLoading()}),200)):uni.showToast({title:o.message,icon:"none"})},fail:function(){uni.hideLoading()}})}))}},onLoad:function(e){this.order_id=e.order_id,e.id&&(this.formData.id=e.id)}};t.default=o},b386:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".color-one[data-v-4d2f159f]{margin-top:50px}.upload[data-v-4d2f159f]{border:%?1?% solid #acc0ff;display:flex;border-radius:%?10?%;width:%?240?%;color:#123dc7;padding:%?6?% %?20?%;margin-bottom:%?40?%}.answer>uni-image[data-v-4d2f159f]{width:%?80?%;margin-right:%?20?%}.answer[data-v-4d2f159f]{padding:%?20?% 0}.block[data-v-4d2f159f]{padding:%?20?%}uni-page-body[data-v-4d2f159f]{background-color:#f0f8ff}.frame[data-v-4d2f159f]{background-color:#fff;width:%?710?%;margin:%?30?% auto;border-radius:%?25?%;padding:%?40?% 0}.frame_one[data-v-4d2f159f]{background-color:#fff;width:%?710?%;margin:%?30?% auto;border-radius:%?25?%;padding:%?20?% 0}.frame_one>uni-view[data-v-4d2f159f]{padding:0 %?20?%}.input[data-v-4d2f159f]{border:%?1?% solid #acc0ff;border-radius:%?10?%;margin-bottom:%?44?%}.title[data-v-4d2f159f]{line-height:%?72?%!important}\n.uni-forms[data-v-4d2f159f]{padding-left:%?20?%}\n.zi-four[data-v-4d2f159f]{line-height:%?50?%}.uni-forms-item[data-v-4d2f159f]{flex:1}uni-button[data-v-4d2f159f]{background-color:#123dc7;width:%?600?%;height:%?70?%;border-radius:%?36?%;margin-bottom:%?20?%;font-size:%?28?%;line-height:%?70?%}uni-segmented-control[data-v-4d2f159f] .segmented-control__text{font-size:%?32?%!important}.content[data-v-4d2f159f]{padding-top:%?20?%;margin-top:%?10?%;border-top:%?1?% solid #acc0ff}.uploadImgDes .uni-forms-item__inner[data-v-4d2f159f]{height:0!important;overflow:hidden}.explain[data-v-4d2f159f]{padding:0 %?30?%;padding-bottom:%?40?%;font-size:%?40?%;color:red}body.?%PAGE?%[data-v-4d2f159f]{background-color:#f0f8ff}",""]),e.exports=t},c90e:function(e,t,a){"use strict";a.r(t);var i=a("7d41"),n=a("e1e7");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("e1d8");var r,s=a("f0c5"),d=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"4d2f159f",null,!1,i["a"],r);t["default"]=d.exports},e1d8:function(e,t,a){"use strict";var i=a("5a20"),n=a.n(i);n.a},e1e7:function(e,t,a){"use strict";a.r(t);var i=a("a0e7"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a}}]);